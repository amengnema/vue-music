(function(t){function e(e){for(var s,r,l=e[0],c=e[1],o=e[2],d=0,m=[];d<l.length;d++)r=l[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,o||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,l=1;l<a.length;l++){var c=a[l];0!==i[c]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={app:0},n=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var o=0;o<l.length;o++)e(l[o]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"042e":function(t,e,a){"use strict";a("fb84")},"086b":function(t,e,a){},1080:function(t,e,a){},"1aae":function(t,e,a){"use strict";a("7df4")},"26e6":function(t,e,a){},"26e6d":function(t,e,a){"use strict";a("7573")},3596:function(t,e,a){"use strict";a("4986")},3783:function(t,e,a){"use strict";a("c460")},"450f":function(t,e,a){"use strict";a("086b")},4986:function(t,e,a){},"4c56":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("4de4"),a("d3b7"),a("fb6a"),a("a15b"),a("b680");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"app-container"},[a("Header"),a("Center"),a("Footer")],1)},n=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-header",[a("div",{staticClass:"left"},[a("div",{staticClass:"btns"},[a("span"),a("span"),a("span")]),t.showPlayerDetail?a("div",{staticClass:"close"},[a("span",{on:{click:t.closePlayerDetail}},[a("i",{staticClass:"el-icon-arrow-down"})])]):a("div",{staticClass:"pre-next"},[a("span",{on:{click:function(e){return t.$router.go(-1)}}},[a("i",{staticClass:"el-icon-arrow-left"})]),a("span",{on:{click:function(e){return t.$router.go(1)}}},[a("i",{staticClass:"el-icon-arrow-right"})])])]),a("div",{staticClass:"right"},[a("div",{staticClass:"search-wrap",on:{click:function(e){return e.stopPropagation(),t.onSearchPanel.apply(null,arguments)}}},[a("el-input",{attrs:{placeholder:"请输入内容","prefix-icon":"el-icon-search"},on:{input:t.onInput},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSearch.apply(null,arguments)}},model:{value:t.inputValue,callback:function(e){t.inputValue="string"===typeof e?e.trim():e},expression:"inputValue"}}),a("div",{staticClass:"search active1",class:{active:!0===t.showSearchPanel}},[""===t.inputValue?a("div",{staticClass:"history"},[a("div",{staticClass:"title"},[t._v("搜索历史"),a("i",{staticClass:"el-icon-delete",on:{click:function(e){e.stopPropagation(),t.dialogVisible=!0}}})]),a("div",{staticClass:"history-tags"},t._l(t.searchHistory,(function(e,s){return a("span",{key:s,staticClass:"tag-item",on:{click:function(a){return a.stopPropagation(),t.searchTag(e)}}},[t._v(t._s(e))])})),0)]):t._e(),""===t.inputValue?a("div",{staticClass:"hot"},[a("div",{staticClass:"title"},[t._v("热搜榜")]),a("div",{staticClass:"hot-list"},t._l(t.hotDetail,(function(e,s){return a("div",{key:s,staticClass:"hot-list-item",class:{"hot-top":s<3},on:{click:function(a){return a.stopPropagation(),t.searchTag(e.searchWord)}}},[a("div",{staticClass:"order"},[t._v(t._s(s+1))]),a("div",{staticClass:"content"},[a("div",{staticClass:"top"},[a("span",{staticClass:"name",attrs:{title:e.searchWord}},[t._v(t._s(e.searchWord))]),a("span",{staticClass:"icon-url"},[t._v("  "),e.iconUrl?a("img",{attrs:{src:e.iconUrl,alt:e.searchWord}}):t._e(),t._v("  ")]),a("span",{staticClass:"score"},[t._v(t._s(e.score))])]),a("div",{staticClass:"bottom"},[t._v(" "+t._s(e.content)+" ")])])])})),0)]):a("div",{staticClass:"search-result"},[a("div",{staticClass:"go-search",on:{click:function(e){return e.stopPropagation(),t.handleSearch()}}},[t._v("搜“"),a("span",{staticClass:"keyword"},[t._v(t._s(t.inputValue))]),t._v("”的相关结果"),a("i",{staticClass:"el-icon-arrow-right"})]),t.searchSuggest.songs?a("div",{staticClass:"result-songs"},[a("div",{staticClass:"result-title"},[a("i",{staticClass:"el-icon-cold-drink"}),t._v("单曲")]),a("div",{staticClass:"result-wrap"},t._l(t.searchSuggest.songs,(function(e){return a("div",{key:e.id,staticClass:"result-item",domProps:{innerHTML:t._s(t.songResult(e))},on:{click:function(a){return a.stopPropagation(),t.playMusic(e.id)}}})})),0)]):t._e(),t.searchSuggest.artists?a("div",{staticClass:"result-artists"},[a("div",{staticClass:"result-title"},[a("i",{staticClass:"el-icon-user"}),t._v("歌手")]),a("div",{staticClass:"result-wrap"},t._l(t.searchSuggest.artists,(function(e){return a("div",{key:e.id,staticClass:"result-item",domProps:{innerHTML:t._s(t.artistResult(e))},on:{click:function(t){t.stopPropagation()}}})})),0)]):t._e(),t.searchSuggest.albums?a("div",{staticClass:"result-albums"},[a("div",{staticClass:"result-title"},[a("i",{staticClass:"el-icon-help"}),t._v("专辑")]),a("div",{staticClass:"result-wrap"},t._l(t.searchSuggest.albums,(function(e){return a("div",{key:e.id,staticClass:"result-item",domProps:{innerHTML:t._s(t.songResult(e))},on:{click:function(t){t.stopPropagation()}}})})),0)]):t._e(),t.searchSuggest.playlists?a("div",{staticClass:"result-playlists"},[a("div",{staticClass:"result-title"},[a("i",{staticClass:"el-icon-document"}),t._v("歌单")]),a("div",{staticClass:"result-wrap"},t._l(t.searchSuggest.playlists,(function(e){return a("div",{key:e.id,staticClass:"result-item",domProps:{innerHTML:t._s(t.artistResult(e))},on:{click:function(a){return a.stopPropagation(),t.toPlaylistDetail(e.id)}}})})),0)]):t._e()])])],1)]),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}},nativeOn:{click:function(t){t.stopPropagation()}}},[a("span",{on:{click:function(t){t.stopPropagation()}}},[t._v("确定删除搜索记录？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){e.stopPropagation(),t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.deleteHistory.apply(null,arguments)}}},[t._v("确 定")])],1)])],1)},l=[],c=a("5530"),o=a("1da1"),u=(a("498a"),a("b0c0"),a("159b"),a("4d63"),a("c607"),a("ac1f"),a("2c3e"),a("25f0"),a("5319"),a("96cf"),a("2ef0")),d=a.n(u),m=a("bc3a"),p=a.n(m);function v(t){var e=p.a.create({baseURL:"https://netease-cloud-music-api-chi-navy.vercel.app",timeout:5e3});return e.interceptors.request.use((function(t){return t})),e(t)}var h=a("2f62"),g={data:function(){return{inputValue:"",showSearchPanel:!1,hotDetail:[],searchSuggest:{},searchHistory:[],dialogVisible:!1}},mounted:function(){var t=this;document.querySelector(".el-container").addEventListener("click",(function(){t.showSearchPanel=!1,t.$store.commit("CHANGE_PLAYLIST_DISPLAY",!1)}))},methods:{getHotDetail:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v({method:"get",url:"/search/hot/detail"});case 2:if(a=e.sent,s=a.data,200==s.code){e.next=7;break}return alert("请求失败"),e.abrupt("return");case 7:t.hotDetail=s.data;case 8:case"end":return e.stop()}}),e)})))()},getSearchSuggest:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,v({method:"get",url:"/search/suggest",params:{keywords:t}});case 2:if(s=a.sent,i=s.data,200==i.code){a.next=7;break}return alert("请求失败"),a.abrupt("return");case 7:e.searchSuggest=i.result;case 8:case"end":return a.stop()}}),a)})))()},onSearchPanel:function(){this.showSearchPanel=!0,this.hotDetail.length>0||this.getHotDetail()},onInput:d.a.debounce((function(){""!=this.inputValue.trim()&&this.getSearchSuggest(this.inputValue)}),1e3),handleSearch:function(){var t=this;if(""!==this.inputValue){this.$router.push("/search/".concat(this.inputValue)),this.showSearchPanel=!1;var e=this.searchHistory.filter((function(e){return e==t.inputValue}));0==e.length&&this.searchHistory.push(this.inputValue)}},searchTag:function(t){this.$router.push("/search/".concat(t)),this.showSearchPanel=!1},playMusic:function(t){console.log(t),this.showSearchPanel=!1},toPlaylistDetail:function(t){this.$router.push("/playlist/".concat(t)),this.showSearchPanel=!1},deleteHistory:function(){this.searchHistory=[],this.dialogVisible=!1,this.$message({message:"删除成功",type:"success"})},closePlayerDetail:function(){this.$store.commit("CHANGE_PLAYER_DETAIL")}},computed:Object(c["a"])(Object(c["a"])({},Object(h["b"])(["showPlayerDetail"])),{},{songResult:function(){return function(t){var e=t.name,a="";t.artist?a=t.artist.name:t.artists.forEach((function(t,e){a+=0==e?t.name:" / "+t.name}));var s=new RegExp(this.inputValue,"g"),i='<span class="keyword">'+this.inputValue+"</span>";return e=e.replace(s,i),a=a.replace(s,i),e+" - "+a}},artistResult:function(){return function(t){var e=t.name,a=new RegExp(this.inputValue,"g"),s='<span class="keyword">'+this.inputValue+"</span>";return e=e.replace(a,s),e}}}),beforeDestroy:function(){document.querySelector(".el-container").removeEventListener("click",(function(){}))}},f=g,y=(a("26e6d"),a("e8c8"),a("2877")),C=Object(y["a"])(f,r,l,!1,null,"311ad068",null),_=C.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-container",{staticClass:"el-center"},[s("Left"),s("el-container",[s("el-main",[s("keep-alive",[s("router-view")],1)],1)],1),null!=t.songDetail?s("div",{staticClass:"player-detail ",class:{active:!0===t.showPlayerDetail}},[s("div",{staticClass:"top-wrap"},[s("div",{staticClass:"img-wrap"},[s("img",{staticClass:"zhou",attrs:{src:a("57e7"),alt:"zhou"}}),s("img",{staticClass:"bar",class:[!0===t.playing?"playing":""],attrs:{src:a("c055"),alt:"play-bar"}}),s("div",{staticClass:"album-wrap"},[s("img",{ref:"albumImg",attrs:{src:t.songDetail[0].al.picUrl+"?param=300y300",alt:t.songDetail[0].name}}),s("span",{staticClass:"mask"})])]),s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"name"},[t._v(t._s(t.songDetail[0].name))]),s("div",{staticClass:"name-two"},[t._v(" 专辑："),s("span",[t._v(t._s(t.songDetail[0].al.name))]),t._v("歌手："),s("span",[t._v(t._s(t.getArtistDetail(t.songDetail[0].ar)))])]),s("div",{ref:"lyricContainer",staticClass:"lyrics"},[t.lyric.lrc?s("div",t._l(t.showLyric,(function(e,a){return s("div",{key:a,staticClass:"lyric-item",class:{active:t.lyricActiveIndex==a}},[s("p",{staticClass:"lyric-text"},[t._v(t._s(e))]),s("p",{staticClass:"lyric-entext"})])})),0):s("pre",[t._v("            纯音乐\n          ")])])])]),s("div",{staticClass:"bottom-wrap"},[s("div",{staticClass:"left"},[s("div",{staticClass:"comment-list-wrap"},[s("div",{staticClass:"hot"},[s("div",{staticClass:"title"},[t._v("精彩评论")]),s("div",{staticClass:"comment-wrap"},t._l(t.commentMusic.hotComments,(function(t){return s("CommentCard",{key:t.commentId,attrs:{avatarUrl:t.user.avatarUrl,nickname:t.user.nickname,content:t.content,beReplied:t.beReplied,time:t.time,likedCount:t.likedCount}})})),1)]),s("div",{staticClass:"latest"},[s("div",{staticClass:"title"},[t._v("最新评论("+t._s(t.commentMusic.total)+")")]),s("div",{staticClass:"comment-wrap"},t._l(t.commentMusic.comments,(function(t){return s("CommentCard",{key:t.commentId,attrs:{avatarUrl:t.user.avatarUrl,nickname:t.user.nickname,content:t.content,beReplied:t.beReplied,time:t.time,likedCount:t.likedCount}})})),1)]),t.commentMusic?s("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":20,total:t.commentMusic.total},on:{"current-change":t.handlePlaylistsPage}}):t._e()],1)]),s("div",{staticClass:"right"},[s("div",{staticClass:"simi-playlist-wrap"},[s("div",{staticClass:"title"},[t._v("包含这首歌的歌单"),0==t.simiPlaylist.length?s("span",[t._v("(0)")]):t._e()]),s("div",{staticClass:"simi-playlist"},t._l(t.simiPlaylist,(function(e){return s("div",{key:e.id,staticClass:"playlist-card",on:{click:function(a){return t.toPlaylistDetail(e.id)}}},[s("div",{staticClass:"playlist-img"},[s("img",{attrs:{src:e.coverImgUrl+"?param=50y50",alt:e.name}})]),s("div",{staticClass:"playlist-content"},[s("p",{staticClass:"playlist-name"},[t._v(t._s(e.name))]),s("p",{staticClass:"play-count"},[s("i",{staticClass:"el-icon-caret-right"}),t._v(t._s(t._f("playCountFormat")(e.playCount)))])])])})),0)]),s("div",{staticClass:"simi-song-wrap"},[s("div",{staticClass:"title"},[t._v("相似歌曲"),0==t.simiSong.length?s("span",[t._v("(0)")]):t._e()]),s("div",{staticClass:"simi-song"},t._l(t.simiSong,(function(e){return s("div",{key:e.id,staticClass:"song-card"},[s("div",{staticClass:"song-img"},[s("img",{attrs:{src:e.album.blurPicUrl+"?param=50y50",alt:e.name}}),s("span",{staticClass:"play",on:{click:function(a){return t.playMusic(e.id,e)}}},[s("i",{staticClass:"el-icon-caret-right"})])]),s("div",{staticClass:"song-content"},[s("p",{staticClass:"song-name"},[t._v(t._s(e.name))]),s("p",{staticClass:"singer"},[t._v(t._s(e.artists[0].name))])])])})),0)])])])]):t._e(),s("div",{staticClass:"playlist",class:{active:!0===t.showPlaylist},on:{click:function(t){t.stopPropagation()}}},[s("div",{staticClass:"list-cate"},[s("span",{class:{active:0===t.curCateId},on:{click:function(e){return t.changeCateId(0)}}},[t._v("播放列表")]),s("span",{class:{active:1===t.curCateId},on:{click:function(e){return t.changeCateId(1)}}},[t._v("历史记录")])]),s("div",{staticClass:"list-info"},[s("span",{staticClass:"total"},[t._v("总共"+t._s(t.songsCount)+"首")]),s("span",{staticClass:"delete",on:{click:function(e){t.dialogVisible=!0}}},[s("i",{staticClass:"el-icon-delete"}),t._v("清空")])]),s("div",{staticClass:"list-wrap"},[s("div",{staticClass:"list-head"},[s("span",{staticClass:"name"},[t._v("音乐标题")]),s("span",{staticClass:"singer"},[t._v("歌手")]),s("span",{staticClass:"time"},[t._v("时长")])]),s("div",{staticClass:"list-content"},[0===t.curCateId?t._l(t.playlist,(function(e){return s("div",{key:e.id,staticClass:"list-item",class:{active:t.playingMusicId===e.id}},[s("span",{staticClass:"name",attrs:{title:e.name},on:{click:function(a){return t.playListMusic(e.id)}}},[t._v(t._s(e.name))]),s("span",{staticClass:"singer",attrs:{title:t.getArtistList(e)}},[t._v(t._s(t.getArtistList(e)))]),s("span",{staticClass:"time"},[t._v(t._s(t._f("duration")(e.duration)))])])})):t._l(t.playHistory,(function(e){return s("div",{key:e.id,staticClass:"list-item",class:{active:t.playingMusicId===e.id}},[s("span",{staticClass:"name",attrs:{title:e.name},on:{click:function(a){return t.playListMusic(e.id)}}},[t._v(t._s(e.name))]),s("span",{staticClass:"singer",attrs:{title:t.getArtistList(e)}},[t._v(t._s(t.getArtistList(e)))]),s("span",{staticClass:"time"},[t._v(t._s(e.duration))])])}))],2)])]),s("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}},nativeOn:{click:function(t){t.stopPropagation()}}},[s("span",{on:{click:function(t){t.stopPropagation()}}},[t._v("确定删除记录？")]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){e.stopPropagation(),t.dialogVisible=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.deleteList.apply(null,arguments)}}},[t._v("确 定")])],1)])],1)},w=[],k=(a("1276"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-aside",{attrs:{width:"200px"}},[a("ul",[a("router-link",{attrs:{to:"/discovery",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.navigate,i=e.isActive;return[a("li",{class:{"router-link-active":i},on:{click:s}},[a("i",{staticClass:"el-icon-caret-right"}),t._v("发现音乐 ")])]}}])}),a("router-link",{attrs:{to:"/playlists",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.navigate,i=e.isActive;return[a("li",{class:{"router-link-active":i},on:{click:s}},[a("i",{staticClass:"el-icon-caret-right"}),t._v("推荐歌单 ")])]}}])}),a("router-link",{attrs:{to:"/songs",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.navigate,i=e.isActive;return[a("li",{class:{"router-link-active":i},on:{click:s}},[a("i",{staticClass:"el-icon-caret-right"}),t._v("最新音乐 ")])]}}])}),a("router-link",{attrs:{to:"/mvs",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.navigate,i=e.isActive;return[a("li",{class:{"router-link-active":i},on:{click:s}},[a("i",{staticClass:"el-icon-caret-right"}),t._v("最新MV ")])]}}])})],1)])}),P=[],A={},x=A,T=(a("450f"),Object(y["a"])(x,k,P,!1,null,"12061efe",null)),L=T.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comment-card"},[a("div",{staticClass:"img-wrap"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.avatarUrl+"?param=30y30",expression:"avatarUrl + '?param=30y30'"}],attrs:{alt:t.nickname}})]),a("div",{staticClass:"content-wrap"},[a("div",{staticClass:"top"},[a("span",{staticClass:"name"},[t._v(t._s(t.nickname)+"：")]),a("span",{staticClass:"content"},[t._v(t._s(t.content))])]),t.beReplied.length?a("div",{staticClass:"reply"},[a("span",{staticClass:"name"},[t._v("@"+t._s(t.beReplied[0].user.nickname)+"：")]),a("span",{staticClass:"content"},[t._v(t._s(t.beReplied[0].content))])]):t._e(),a("div",{staticClass:"bottom"},[a("div",{staticClass:"time"},[t._v(t._s(t._f("dayFormat")(t.time)))]),a("div",{staticClass:"liked"},[a("i",{staticClass:"el-icon-magic-stick"},[t._v(t._s(t.likedCount))])])])])])},M=[],I={props:["avatarUrl","nickname","content","beReplied","time","likedCount"]},E=I,N=(a("ad45"),Object(y["a"])(E,S,M,!1,null,"d23b8826",null)),D=N.exports,R={data:function(){return{curCateId:0,dialogVisible:!1}},mounted:function(){var t=this;this.$bus.$on("goTop",(function(){t.scrollToTop(300)}))},methods:{playMusic:function(t,e){this.playingMusicId!==t?(this.$store.dispatch("playMusic",t),this.$store.dispatch("addSongToPlaylist",e),this.$store.dispatch("addSongToHistory",e),this.$store.commit("CHANGE_PLAYING_VALUE",!0)):this.$message({message:"该歌曲已经在播放了"})},playListMusic:function(t){this.playingMusicId!==t?(this.$store.dispatch("playMusic",t),this.$store.commit("CHANGE_PLAYING_VALUE",!0)):this.$message({message:"该歌曲已经在播放了"})},toPlaylistDetail:function(t){this.$store.commit("CHANGE_PLAYER_DETAIL"),t!=this.$route.params.id&&(this.$router.push("/playlist/".concat(t)),this.$bus.$emit("updatePlaylistDetail"))},changeCateId:function(t){this.curCateId!==t&&(this.curCateId=t)},deleteList:function(){0===this.curCateId?this.$store.dispatch("deleteList",0):this.$store.dispatch("deleteList",1),this.$message({message:"删除成功",type:"success"}),this.dialogVisible=!1},scrollToTop:function(t){var e=document.querySelector(".el-main");if(0!==e.scrollTop){var a=e.scrollTop/2,s=0,i=null;window.requestAnimationFrame(n)}function n(r){if(null!==i){if(s+=Math.PI*(r-i)/t,s>=Math.PI)return e.scrollTop=0;e.scrollTop=a+a*Math.cos(s)}i=r,window.requestAnimationFrame(n)}},handlePlaylistsPage:function(t){this.$store.dispatch("getMusicComment",t)}},computed:Object(c["a"])(Object(c["a"])({},Object(h["b"])(["showPlayerDetail","songDetail","simiPlaylist","simiSong","commentMusic","lyric","playlist","playHistory","playingMusicId","playing","showPlaylist","lyricActiveIndex"])),{},{getArtistList:function(){return function(t){if(t.artists){var e="";return t.artists.forEach((function(t,a){e+=0==a?t.name:"/"+t.name})),e}var a="";return t.ar.forEach((function(t,e){a+=0==e?t.name:"/"+t.name})),a}},getArtistDetail:function(){return function(t){var e="";return t.forEach((function(t,a){e+=0==a?t.name:"/"+t.name})),e}},songsCount:function(){return 0===this.curCateId?this.playlist.length:this.playHistory.length},showLyric:function(){if(this.lyric.lrc){var t=this.lyric.lrc.lyric.split("\n"),e=[];return t.forEach((function(t){var a=t.split("]")[1]||"";e.push(a)})),e}}}),watch:{playing:function(t){var e=this,a=this.$refs.albumImg;a&&this.showPlayerDetail&&(this.curDeg?this.curDeg:this.curDeg=0,t?this.si=setInterval((function(){e.curDeg+=.3,a.style.transform="rotate(".concat(e.curDeg,"deg)")}),40):clearInterval(this.si))},showPlayerDetail:function(t){var e=this,a=this.$refs.albumImg;a&&this.playing&&(this.curDeg?this.curDeg:this.curDeg=0,t?this.si=setInterval((function(){e.curDeg+=.3,a.style.transform="rotate(".concat(e.curDeg,"deg)")}),40):clearInterval(this.si))},lyricActiveIndex:function(t){var e=this.$refs.lyricContainer;e.scrollTop=33*t-150}},components:{Left:L,CommentCard:D},beforeDestroy:function(){this.$bus.$off("goTop")}},O=R,$=(a("1aae"),Object(y["a"])(O,b,w,!1,null,"b89fbca0",null)),j=$.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-footer",[a("div",{staticClass:"player"},[a("div",{ref:"barwrap",staticClass:"progress-bar-wrap",on:{mousedown:t.changeProgress}},[a("div",{ref:"probar",staticClass:"progress-bar"}),a("div",{ref:"probtn",staticClass:"progress-btn"})]),a("audio",{ref:"audio",attrs:{src:t.songLink,autoplay:""},on:{timeupdate:t.timeupdate}}),a("div",{staticClass:"info"},[null!=t.songDetail?a("div",{staticClass:"img-wrap",on:{click:t.handleImgClick}},[a("img",{attrs:{src:t.songDetail[0].al.picUrl+"?param=60y60",alt:t.songDetail[0].name}}),a("span",{staticClass:"img-mask"},[a("i",{staticClass:"el-icon-full-screen"})])]):t._e(),null!=t.songDetail?a("div",{staticClass:"content-wrap"},[a("div",{staticClass:"name"},[t._v(t._s(t.songDetail[0].name)),a("span",[t._v(" - "+t._s(t.getArtist(t.songDetail[0].ar)))])]),a("div",{staticClass:"time"},[a("span",{ref:"curTime"},[t._v("01:32")]),t._v(" / "),a("span",{ref:"durTime"},[t._v("04:24")])])]):t._e()]),a("div",{staticClass:"control"},[a("span",{on:{click:t.playPreSong}},[a("i",{staticClass:"el-icon-arrow-left"})]),a("i",{class:[t.playing?"el-icon-video-pause":"el-icon-video-play"],on:{click:t.playOrPause}}),a("span",{on:{click:t.playNextSong}},[a("i",{staticClass:"el-icon-arrow-right"})])]),a("div",{staticClass:"other"},[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(1==t.shufflePlay?"随机播放":"顺序播放"))]),a("span",{on:{click:t.handleSort}},[a("i",{class:[1==t.shufflePlay?"el-icon-refresh":"el-icon-sort"]})])]),a("span",{on:{click:function(e){return e.stopPropagation(),t.handleList.apply(null,arguments)}}},[a("i",{staticClass:"el-icon-s-operation"})]),a("span",{staticClass:"sound-wrap",on:{click:t.handleSound}},[a("div",{staticClass:"sound-block"},[a("el-slider",{attrs:{vertical:"",height:"100px"},on:{change:t.handleSoundChange},model:{value:t.soundValue,callback:function(e){t.soundValue=e},expression:"soundValue"}})],1),a("i",{staticClass:"el-icon-microphone"})])],1)])])},H=[],G={data:function(){return{shufflePlay:!1,soundValue:100}},mounted:function(){var t=this.$refs.audio.volume;this.soundValue=100*t},methods:{handleImgClick:function(){this.$store.commit("CHANGE_PLAYER_DETAIL")},playOrPause:function(){if(this.songLink){var t=this.$refs.audio;this.playing?t.pause():t.play(),this.$store.commit("CHANGE_PLAYING")}},timeupdate:function(){var t=this,e=this.$refs.audio,a=this.$refs.probar,s=this.$refs.probtn,i=this.$refs.curTime,n=this.$refs.durTime,r=(e.currentTime/e.duration*100).toFixed(1)+"%";if(a.style.width=r,s.style.left=r,i.innerHTML=this.formatSecToStr(e.currentTime),n.innerHTML=this.formatSecToStr(e.duration),e.currentTime>=e.duration&&this.$store.commit("CHANGE_PLAYING"),this.lyric.lrc){var l=this.lyric.lrc.lyric.split("\n"),c=[],o=[],u=[],d=void 0;l.forEach((function(t){c.push(t.split("]")[0])})),c.forEach((function(t){o.push(t.split("[")[1])})),o.forEach((function(e){u.push(t.parseTime(e))})),u.forEach((function(t,a){e.currentTime<u[a+1]&&e.currentTime>=u[a]&&(d=a)})),this.$store.commit("CHANGE_LYRIC_ACTIVE_DIV",d)}},changeProgress:function(t){var e=this.$refs.audio;if(e.currentTime){var a=this.$refs.barwrap,s=(t.pageX-a.offsetLeft)/a.offsetWidth;e.currentTime=s*e.duration}},formatSecToStr:function(t){t=parseInt(t);var e=86400,a=3600,s=60,i=Math.floor(t/e),n=Math.floor(t%e/a),r=Math.floor(t%a/s),l=t%s;return i>0?this.PrefixInteger(i)+":"+this.PrefixInteger(n)+":"+this.PrefixInteger(r)+":"+this.PrefixInteger(l):n>0?this.PrefixInteger(n)+":"+this.PrefixInteger(r)+":"+this.PrefixInteger(l):r>0?this.PrefixInteger(r)+":"+this.PrefixInteger(l):"00:"+this.PrefixInteger(l)},PrefixInteger:function(t){return(Array(2).join(0)+t).slice(-2)},handleSort:function(){this.shufflePlay=!this.shufflePlay},handleList:function(){this.$store.commit("CHANGE_PLAYLIST_DISPLAY",!this.showPlaylist)},handleSound:function(){},parseTime:function(t){if(!t)return"";var e=t.split(":");switch(e.length){case 1:return parseFloat(e[0]);case 2:return 60*parseFloat(e[0])+parseFloat(e[1]);case 3:return 3600*parseFloat(e[0])+60*parseFloat(e[1])+parseFloat(e[2])}},playMusic:function(t){this.playingMusicId!==t?(this.$store.dispatch("playMusic",t),this.$store.commit("CHANGE_PLAYING_VALUE",!0)):this.$message({message:"该歌曲已经在播放了"})},playPreSong:function(){var t=this;if(this.playlist.length<2)this.$message({message:"没有可播放的歌曲"});else{var e=0;this.playlist.forEach((function(a,s){a.id==t.playingMusicId&&(e=s)})),this.shufflePlay?this.playMusic(this.playlist[Math.floor(Math.random()*(this.playlist.length-1))].id):0==e?this.playMusic(this.playlist[this.playlist.length-1].id):this.playMusic(this.playlist[e-1].id)}},playNextSong:function(){var t=this;if(this.playlist.length<2)this.$message({message:"没有可播放的歌曲"});else{var e=0;this.playlist.forEach((function(a,s){a.id==t.playingMusicId&&(e=s)})),this.shufflePlay?this.playMusic(this.playlist[Math.floor(Math.random()*(this.playlist.length-1))].id):e==this.playlist.length-1?this.playMusic(this.playlist[0].id):this.playMusic(this.playlist[e+1].id)}},handleSoundChange:function(){this.$refs.audio.volume=this.soundValue/100}},computed:Object(c["a"])(Object(c["a"])({},Object(h["b"])(["songLink","playing","songDetail","showPlaylist","lyric","playingMusicId","playlist"])),{},{getArtist:function(){return function(t){var e="";return t.forEach((function(t,a){e+=0==a?t.name:"/"+t.name})),e}}})},Y=G,V=(a("d2e9"),Object(y["a"])(Y,U,H,!1,null,"83681030",null)),z=V.exports,q={components:{Header:_,Center:j,Footer:z}},F=q,X=(a("034f"),Object(y["a"])(F,i,n,!1,null,null,null)),J=X.exports,W=(a("b5c2"),a("450d"),a("20cf")),B=a.n(W),K=(a("0c67"),a("299c")),Z=a.n(K),Q=(a("a7cc"),a("df33")),tt=a.n(Q),et=(a("672e"),a("101e")),at=a.n(et),st=(a("10cb"),a("f3ad")),it=a.n(st),nt=(a("e612"),a("dd87")),rt=a.n(nt),lt=(a("075a"),a("72aa")),ct=a.n(lt),ot=(a("186a"),a("301f")),ut=a.n(ot),dt=(a("96dc"),a("9cea")),mt=a.n(dt),pt=(a("aaa5"),a("a578")),vt=a.n(pt),ht=(a("bdc7"),a("aa2f")),gt=a.n(ht),ft=(a("de31"),a("c69e")),yt=a.n(ft),Ct=(a("a769"),a("5cc3")),_t=a.n(Ct),bt=(a("a673"),a("7b31")),wt=a.n(bt),kt=(a("adec"),a("3d2d")),Pt=a.n(kt),At=(a("1951"),a("eedf")),xt=a.n(At),Tt=(a("0fb7"),a("f529")),Lt=a.n(Tt),St=(a("9e1f"),a("6ed5")),Mt=a.n(St),It=(a("be4f"),a("896a")),Et=a.n(It);s["default"].use(Et.a.directive),s["default"].prototype.$loading=Et.a.service,s["default"].prototype.$msgbox=Mt.a,s["default"].prototype.$alert=Mt.a.alert,s["default"].prototype.$confirm=Mt.a.confirm,s["default"].prototype.$prompt=Mt.a.prompt,s["default"].prototype.$message=Lt.a,s["default"].use(xt.a),s["default"].use(Pt.a),s["default"].use(wt.a),s["default"].use(_t.a),s["default"].use(yt.a),s["default"].use(gt.a),s["default"].use(vt.a),s["default"].use(mt.a),s["default"].use(ut.a),s["default"].use(ct.a),s["default"].use(rt.a),s["default"].use(it.a),s["default"].use(at.a),s["default"].use(tt.a),s["default"].use(Z.a),s["default"].use(B.a);var Nt=a("8c4f"),Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"discovery"},[a("el-carousel",{attrs:{interval:4e3,type:"card",height:"200px"}},t._l(t.bannerList,(function(t,e){return a("el-carousel-item",{key:e},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imageUrl,expression:"item.imageUrl"}],attrs:{alt:t.typeTitle}})])})),1),a("div",{staticClass:"recommend"},[t._m(0),a("div",{staticClass:"list-wrap"},t._l(t.recommendPlaylist,(function(e){return a("PlaylistCard",{key:e.id,attrs:{copywriter:e.copywriter,picUrl:e.picUrl,name:e.name},nativeOn:{click:function(a){return t.toPlaylistDetail(e.id)}}})})),1)]),a("div",{staticClass:"latest-music"},[t._m(1),a("div",{staticClass:"list-wrap"},t._l(t.recommendNewSong,(function(e,s){return a("div",{key:s,staticClass:"song-card",on:{click:function(a){return t.playMusic(e.id)}}},[a("div",{staticClass:"order"},[t._v("0"+t._s(s+1))]),a("div",{staticClass:"song-img"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl+"?param=300y300",expression:"item.picUrl + '?param=300y300'"}],attrs:{alt:e.name}}),t._m(2,!0)]),a("div",{staticClass:"song-content"},[a("p",{staticClass:"song-name"},[t._v(t._s(e.name))]),a("p",{staticClass:"singer"},[t._v(t._s(e.song.artists[0].name))])])])})),0)]),a("div",{staticClass:"recomment-mv"},[t._m(3),a("div",{staticClass:"list-wrap"},t._l(t.recommendMV,(function(e){return a("MvlistCard",{key:e.id,attrs:{picUrl:e.picUrl,copywriter:e.copywriter,playCount:e.playCount,name:e.name,artists:e.artists},nativeOn:{click:function(a){return t.toMvsDetail(e.id)}}})})),1)])],1)},Rt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title-wrap"},[a("p",{staticClass:"title"},[t._v("推荐歌单")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title-wrap"},[a("p",{staticClass:"title"},[t._v("最新音乐")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"play"},[a("i",{staticClass:"el-icon-caret-right"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title-wrap"},[a("p",{staticClass:"title"},[t._v("推荐MV")])])}],Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"playlist-card"},[a("div",{staticClass:"img"},[a("span",{staticClass:"info"},[t._v(t._s(t.copywriter))]),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.picUrl+"?param=300y300",expression:"picUrl + '?param=300y300'"}],attrs:{alt:t.name}}),t._m(0)]),a("div",{staticClass:"name"},[t._v(t._s(t.name))])])},$t=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"play"},[a("i",{staticClass:"el-icon-caret-right"})])}],jt={props:["copywriter","picUrl","name"]},Ut=jt,Ht=(a("3596"),Object(y["a"])(Ut,Ot,$t,!1,null,null,null)),Gt=Ht.exports,Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mv-list-card"},[a("div",{staticClass:"img-wrap"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.picUrl+"?param=285y148",expression:"picUrl + '?param=285y148'"}],attrs:{alt:t.copywriter}}),a("span",{staticClass:"hits"},[a("i",{staticClass:"el-icon-caret-right"}),t._v(t._s(t.playCount))]),t._m(0)]),a("div",{staticClass:"mv-content"},[a("div",{staticClass:"title"},[t._v(t._s(t.name))]),a("div",{staticClass:"name"},[t._v(t._s(t.artists[0].name))])])])},Vt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"play"},[a("i",{staticClass:"el-icon-caret-right"})])}],zt={props:["picUrl","copywriter","playCount","name","artists"]},qt=zt,Ft=(a("6332"),Object(y["a"])(qt,Yt,Vt,!1,null,null,null)),Xt=Ft.exports,Jt={data:function(){return{bannerList:[],recommendPlaylist:[],recommendNewSong:[],recommendMV:[]}},mounted:function(){this.getBanner(),this.getRecommendPlaylist(),this.getRecommendNewSong(),this.getRecommendMV()},methods:{getBanner:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v({method:"get",url:"/banner"});case 2:if(a=e.sent,s=a.data,200==s.code){e.next=7;break}return alert("请求失败"),e.abrupt("return");case 7:t.bannerList=s.banners;case 8:case"end":return e.stop()}}),e)})))()},getRecommendPlaylist:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v({method:"get",url:"/personalized",params:{limit:10}});case 2:if(a=e.sent,s=a.data,200==s.code){e.next=7;break}return alert("请求失败"),e.abrupt("return");case 7:t.recommendPlaylist=s.result;case 8:case"end":return e.stop()}}),e)})))()},getRecommendNewSong:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v({method:"get",url:"/personalized/newsong"});case 2:if(a=e.sent,s=a.data,200==s.code){e.next=7;break}return alert("请求失败"),e.abrupt("return");case 7:t.recommendNewSong=s.result;case 8:case"end":return e.stop()}}),e)})))()},playMusic:function(t){this.playingMusicId!==t?(this.$store.dispatch("playMusic",t),this.$store.commit("CHANGE_PLAYING_VALUE",!0)):this.$message({message:"该歌曲已经在播放了"})},getRecommendMV:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v({method:"get",url:"/personalized/mv"});case 2:if(a=e.sent,s=a.data,200==s.code){e.next=7;break}return alert("请求失败"),e.abrupt("return");case 7:t.recommendMV=s.result;case 8:case"end":return e.stop()}}),e)})))()},toPlaylistDetail:function(t){this.$router.push("/playlist/".concat(t))},toMvsDetail:function(t){this.$router.push("/mv/"+t)}},computed:Object(c["a"])({},Object(h["b"])(["playingMusicId"])),components:{PlaylistCard:Gt,MvlistCard:Xt}},Wt=Jt,Bt=(a("582e"),Object(y["a"])(Wt,Dt,Rt,!1,null,null,null)),Kt=Bt.exports,Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"playlists"},[t.highqualityPlaylist.length?a("div",{staticClass:"top-card",on:{click:function(e){return t.toPlaylistDetail(t.highqualityPlaylist[0].id)}}},[a("div",{staticClass:"left-img"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.highqualityPlaylist[0].coverImgUrl+"?param=300y300",expression:"highqualityPlaylist[0].coverImgUrl+ '?param=300y300'"}],attrs:{alt:"highqualityPlaylist[0].name"}})]),a("div",{staticClass:"right-content"},[t._m(0),a("div",{staticClass:"name"},[t._v(t._s(t.highqualityPlaylist[0].name))]),a("div",{staticClass:"desc"},[t._v(" "+t._s(t.highqualityPlaylist[0].description)+" ")])])]):t._e(),a("div",{staticClass:"tags"},[a("div",{staticClass:"tag",class:{active:0===t.currentCatId},on:{click:function(e){return t.handleTagClick(0,"全部")}}},[t._v("全部")]),t._l(t.tags,(function(e){return a("div",{key:e.id,staticClass:"tag",class:{active:t.currentCatId===e.id},on:{click:function(a){return t.handleTagClick(e.id,e.name)}}},[t._v(t._s(e.name))])}))],2),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"playlist-cards"},t._l(t.playlist,(function(e){return a("PlaylistCard",{key:e.id,attrs:{copywriter:"播放量："+e.playCount,picUrl:e.coverImgUrl,name:e.name},nativeOn:{click:function(a){return t.toPlaylistDetail(e.id)}}})})),1),t.total?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":50,total:t.total},on:{"current-change":t.handlePlaylistsPage}}):t._e()],1)},Qt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tag"},[a("span",[t._v("精品歌单")])])}],te={data:function(){return{tags:[],playlist:[],highqualityPlaylist:[],currentCatId:0,total:0,loading:!1}},mounted:function(){this.getTags(),this.getPlaylist("全部",1),this.getHighqualityPlaylist("全部")},methods:{toPlaylistDetail:function(t){this.$router.push("/playlist/".concat(t))},handleTagClick:function(t,e){this.currentCatId!==t&&(this.currentCatId=t,this.total=0,this.getPlaylist(e,1),this.getHighqualityPlaylist(e))},getTags:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v({method:"get",url:"/playlist/hot"});case 2:if(a=e.sent,s=a.data,200==s.code){e.next=7;break}return alert("请求失败"),e.abrupt("return");case 7:t.tags=s.tags;case 8:case"end":return e.stop()}}),e)})))()},getPlaylist:function(t,e){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var i,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a.loading=!0,s.next=3,v({method:"get",url:"/top/playlist",params:{cat:t,limit:50,offset:50*(e-1)}});case 3:if(i=s.sent,n=i.data,200==n.code){s.next=8;break}return alert("请求失败"),s.abrupt("return");case 8:a.playlist=n.playlists,a.total=n.total,a.loading=!1;case 11:case"end":return s.stop()}}),s)})))()},getHighqualityPlaylist:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,v({method:"get",url:"/top/playlist/highquality",params:{cat:t,limit:1}});case 2:if(s=a.sent,i=s.data,200==i.code){a.next=7;break}return alert("请求失败"),a.abrupt("return");case 7:e.highqualityPlaylist=i.playlists;case 8:case"end":return a.stop()}}),a)})))()},handlePlaylistsPage:function(t){var e=this;if(0==this.currentCatId)this.getPlaylist("全部",t);else{var a=this.tags.filter((function(t){return t.id==e.currentCatId}));this.getPlaylist(a[0].name,t)}this.$bus.$emit("goTop")}},components:{PlaylistCard:Gt}},ee=te,ae=(a("3783"),Object(y["a"])(ee,Zt,Qt,!1,null,"1c890485",null)),se=ae.exports,ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"songs"},[a("div",{staticClass:"tags"},t._l(t.tags,(function(e){return a("div",{key:e.id,staticClass:"tag",class:{active:t.curTag===e.id},on:{click:function(a){return t.handleTag(e.id)}}},[t._v(t._s(e.name))])})),0),a("div",{staticClass:"list-wrap"},[t._m(0),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"song-list"},t._l(t.songList,(function(e,s){return a("div",{key:e.id,staticClass:"song-list-card"},[a("div",{staticClass:"order"},[t._v(t._s(s+1))]),a("div",{staticClass:"img"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.album.blurPicUrl+"?param=300y300",expression:"item.album.blurPicUrl + '?param=300y300'"}],attrs:{alt:e.name}}),a("span",{staticClass:"play",on:{click:function(a){return t.playMusic(e.id)}}},[a("i",{staticClass:"el-icon-caret-right"})])]),a("div",{staticClass:"name"},[t._v(t._s(e.name))]),a("div",{staticClass:"time"},[t._v(t._s(t._f("duration")(e.duration)))]),a("div",{staticClass:"singer"},[t._v(t._s(e.artists[0].name))])])})),0)])])},ne=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("div",{staticClass:"order"},[t._v("序号")]),a("div",{staticClass:"img"},[t._v("封面")]),a("div",{staticClass:"name"},[t._v("标题")]),a("div",{staticClass:"time"},[t._v("时长")]),a("div",{staticClass:"singer"},[t._v("歌手")])])}],re=[{id:0,name:"全部"},{id:7,name:"华语"},{id:96,name:"欧美"},{id:8,name:"日本"},{id:16,name:"韩国"}],le={data:function(){return{curTag:0,songList:[],loading:!1}},created:function(){this.tags=re},mounted:function(){this.getSongList(0)},methods:{handleTag:function(t){this.curTag!=t&&(this.curTag=t,this.getSongList(t))},getSongList:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.loading=!0,a.next=3,v({method:"get",url:"/top/song",params:{type:t}});case 3:if(s=a.sent,i=s.data,200==i.code){a.next=8;break}return alert("请求失败"),a.abrupt("return");case 8:e.songList=i.data,e.loading=!1;case 10:case"end":return a.stop()}}),a)})))()},playMusic:function(t){if(this.playingMusicId!==t){this.$store.dispatch("playMusic",t),this.$store.commit("UPDATE_PLAYLIST",this.songList);var e=this.songList.filter((function(e){return e.id===t}));this.$store.dispatch("addSongToHistory",e[0]),this.$store.commit("CHANGE_PLAYING_VALUE",!0)}else this.$message({message:"该歌曲已经在播放了"})}},computed:Object(c["a"])({},Object(h["b"])(["playingMusicId"]))},ce=le,oe=(a("e378"),Object(y["a"])(ce,ie,ne,!1,null,"4469d089",null)),ue=oe.exports,de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mvs"},[a("div",{staticClass:"tags-wrap"},[a("div",{staticClass:"tags"},[a("span",{staticClass:"tag-type"},[t._v("地区：")]),a("ul",t._l(t.areaTabs,(function(e,s){return a("li",{key:s,staticClass:"tag",class:{active:t.areaTabActive===s},on:{click:function(e){return t.changeArea(s)}}},[t._v(" "+t._s(e)+" ")])})),0)]),a("div",{staticClass:"tags"},[a("span",{staticClass:"tag-type"},[t._v("类型：")]),a("ul",t._l(t.typeTabs,(function(e,s){return a("li",{key:s,staticClass:"tag",class:{active:t.typeTabActive===s},on:{click:function(e){return t.changeType(s)}}},[t._v(" "+t._s(e)+" ")])})),0)]),a("div",{staticClass:"tags"},[a("span",{staticClass:"tag-type"},[t._v("排序：")]),a("ul",t._l(t.orderTabs,(function(e,s){return a("li",{key:s,staticClass:"tag",class:{active:t.orderTabActive===s},on:{click:function(e){return t.changeOrder(s)}}},[t._v(" "+t._s(e)+" ")])})),0)])]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"mv-list-wrap"},t._l(t.mvList,(function(e){return a("MvlistCard",{key:e.id,attrs:{picUrl:e.cover,copywriter:e.name,playCount:e.playCount,name:e.name,artists:e.artists},nativeOn:{click:function(a){return t.toMvsDetail(e.id)}}})})),1)])},me=[],pe=["全部","内地","港台","欧美","韩国","日本"],ve=["全部","官方版","原声","现场版","网易出品"],he=["上升最快","最热","最新"],ge={data:function(){return{areaTabs:[],typeTabs:[],orderTabs:[],areaTabActive:0,typeTabActive:0,orderTabActive:0,mvList:[],loading:!1}},created:function(){this.areaTabs=pe,this.typeTabs=ve,this.orderTabs=he},mounted:function(){this.getMvList({area:this.areaTabs[0],type:this.typeTabs[0],order:he[0]})},methods:{changeArea:function(t){this.areaTabActive!=t&&(this.areaTabActive=t,this.getMvList({area:this.areaTabs[t],type:this.typeTabs[this.typeTabActive],order:he[this.orderTabActive]}))},changeType:function(t){this.typeTabActive!=t&&(this.typeTabActive=t,this.getMvList({area:this.areaTabs[this.areaTabActive],type:this.typeTabs[t],order:he[this.orderTabActive]}))},changeOrder:function(t){this.orderTabActive!=t&&(this.orderTabActive=t,this.getMvList({area:this.areaTabs[this.areaTabActive],type:this.typeTabs[this.typeTabActive],order:he[t]}))},getMvList:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.loading=!0,a.next=3,v({method:"get",url:"/mv/all",params:t});case 3:s=a.sent,i=s.data,e.mvList=i.data,e.loading=!1;case 7:case"end":return a.stop()}}),a)})))()},toMvsDetail:function(t){this.$router.push("/mv/"+t)}},components:{MvlistCard:Xt}},fe=ge,ye=(a("9049"),Object(y["a"])(fe,de,me,!1,null,"5e771929",null)),Ce=ye.exports,_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.pageLoading,expression:"pageLoading"}],staticClass:"playlist-detail"},[t.detail.name?a("div",{staticClass:"head-wrap"},[a("div",{staticClass:"img-wrap"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.detail.coverImgUrl+"?param=300y300",expression:"detail.coverImgUrl + '?param=300y300'"}],attrs:{alt:"img"}})]),a("div",{staticClass:"content"},[a("div",{staticClass:"title"},[t._v(t._s(t.detail.name))]),a("div",{staticClass:"creater"},[a("img",{attrs:{src:t.detail.creator.avatarUrl+"?param=30y30",alt:"creater"}}),t._v(" "+t._s(t.detail.creator.nickname)+" "),a("span",{staticClass:"create-time"},[t._v(t._s(t._f("dayFormat")(t.detail.createTime))+" 创建")])]),a("div",{staticClass:"desc-wrap"},[a("div",{staticClass:"tags"},[t._v("标签:"+t._s(t.formatTags(t.detail.tags)))]),a("div",{staticClass:"tags"},[t._v(" 歌曲数："+t._s(t.detail.trackCount)+" 播放数："+t._s(t.dynamic.playCount)+" ")]),a("div",{staticClass:"desc"},[t._v(t._s(t.detail.description))])])])]):t._e(),a("div",{staticClass:"tabs-wrap"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"歌曲列表",name:"first"}},[a("div",{staticClass:"title-wrap"},[a("div",{staticClass:"order"},[t._v("序号")]),a("div",{staticClass:"play"},[t._v("播放")]),a("div",{staticClass:"name"},[t._v("音乐标题")]),a("div",{staticClass:"singer"},[t._v("歌手")]),a("div",{staticClass:"album"},[t._v("专辑")]),a("div",{staticClass:"time"},[t._v("时长")])]),a("div",{staticClass:"song-list"},t._l(t.detail.tracks,(function(e,s){return a("SonglistCard",{key:s,attrs:{index:s,name:e.name,ar:e.ar,al:e.al,dt:e.dt},nativeOn:{click:function(a){return t.playMusic(e.id)}}})})),1)]),a("el-tab-pane",{attrs:{label:"评论("+t.dynamic.commentCount+")",name:"second"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.commentLoading,expression:"commentLoading"}],staticClass:"comment-list-wrap"},[t.comment.hotComments?a("div",{staticClass:"hot"},[a("div",{staticClass:"title"},[t._v("精彩评论")]),a("div",{staticClass:"comment-wrap"},t._l(t.comment.hotComments,(function(t){return a("CommentCard",{key:t.commentId,attrs:{avatarUrl:t.user.avatarUrl,nickname:t.user.nickname,content:t.content,beReplied:t.beReplied,time:t.time,likedCount:t.likedCount}})})),1)]):t._e(),t.comment.comments?a("div",{staticClass:"latest"},[a("div",{staticClass:"title"},[t._v("最新评论("+t._s(t.dynamic.commentCount)+")")]),a("div",{staticClass:"comment-wrap"},t._l(t.comment.comments,(function(t){return a("CommentCard",{key:t.commentId,attrs:{avatarUrl:t.user.avatarUrl,nickname:t.user.nickname,content:t.content,beReplied:t.beReplied,time:t.time,likedCount:t.likedCount}})})),1)]):t._e()]),t.total?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":50,total:t.total},on:{"current-change":t.handlePlaylistsPage}}):t._e()],1)],1)],1)])},be=[],we=(a("e9c4"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"song-list-card"},[a("div",{staticClass:"order"},[t._v(t._s(t.index+1))]),t._m(0),a("div",{staticClass:"name",attrs:{title:t.name}},[t._v(t._s(t.name))]),a("div",{staticClass:"singer",attrs:{title:t.getArtist(t.ar)}},[t._v(t._s(t.getArtist(t.ar)))]),a("div",{staticClass:"album",attrs:{title:t.al.name}},[t._v(t._s(t.al.name))]),a("div",{staticClass:"time"},[t._v(t._s(t._f("duration")(t.dt)))])])}),ke=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"play"},[a("i",{staticClass:"el-icon-caret-right"})])}],Pe={props:["index","name","ar","al","dt"],computed:{getArtist:function(){return function(t){var e="";return t.forEach((function(t,a){e+=0==a?t.name:"/"+t.name})),e}}}},Ae=Pe,xe=(a("042e"),Object(y["a"])(Ae,we,ke,!1,null,"49e3fa8b",null)),Te=xe.exports,Le={data:function(){return{detail:{},dynamic:{},comment:{},activeName:"first",total:0,pageLoading:!1,commentLoading:!1}},mounted:function(){var t=this;this.$bus.$on("updatePlaylistDetail",(function(){t.total=0,t.activeName="first",t.$bus.$emit("goTop"),t.getDetail(t.$route.params.id),t.getDynamic(t.$route.params.id)}))},activated:function(){this.total=0,this.activeName="first",this.$bus.$emit("goTop"),this.getDetail(this.$route.params.id),this.getDynamic(this.$route.params.id)},deactivated:function(){this.detail={},this.comment={}},methods:{handleClick:function(t){"second"===t.name&&"{}"==JSON.stringify(this.comment)&&this.getComment(this.$route.params.id,1)},getDetail:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,v({method:"get",url:"/playlist/detail",params:{id:t}});case 2:if(s=a.sent,i=s.data,200==i.code){a.next=7;break}return alert("请求失败"),a.abrupt("return");case 7:e.detail=i.playlist;case 8:case"end":return a.stop()}}),a)})))()},getDynamic:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.pageLoading=!0,a.next=3,v({method:"get",url:"/playlist/detail/dynamic",params:{id:t}});case 3:if(s=a.sent,i=s.data,200==i.code){a.next=8;break}return alert("请求失败"),a.abrupt("return");case 8:e.dynamic=i,e.pageLoading=!1;case 10:case"end":return a.stop()}}),a)})))()},getComment:function(t,e){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var i,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a.commentLoading=!0,s.next=3,v({method:"get",url:"/comment/playlist",params:{id:t,limit:50,offset:50*(e-1)}});case 3:if(i=s.sent,n=i.data,200==n.code){s.next=8;break}return alert("请求失败"),s.abrupt("return");case 8:a.comment=n,a.total=n.total,a.commentLoading=!1;case 11:case"end":return s.stop()}}),s)})))()},handlePlaylistsPage:function(t){this.getComment(this.$route.params.id,t),this.$bus.$emit("goTop")},playMusic:function(t){if(this.playingMusicId!==t){this.$store.dispatch("playMusic",t),this.$store.commit("UPDATE_PLAYLIST",this.detail.tracks);var e=this.detail.tracks.filter((function(e){return e.id===t}));this.$store.dispatch("addSongToHistory",e[0]),this.$store.commit("CHANGE_PLAYING_VALUE",!0)}else this.$message({message:"该歌曲已经在播放了"})}},computed:{formatTags:function(){return function(t){var e="";return t.forEach((function(t,a){e+=0==a?t:"/"+t})),e}}},beforeDestroy:function(){this.$bus.$off("updatePlaylistDetail")},components:{CommentCard:D,SonglistCard:Te}},Se=Le,Me=(a("c61b"),Object(y["a"])(Se,_e,be,!1,null,"245d5e02",null)),Ie=Me.exports,Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.pageLoading,expression:"pageLoading"}],staticClass:"mv-detail"},[a("div",{staticClass:"left"},[a("div",{staticClass:"title"},[t._v("MV详情")]),a("video",{attrs:{src:t.mvUrl.url,controls:""}}),a("div",{staticClass:"author"},[a("img",{attrs:{src:t.mvDetail.cover+"?param=50y50",alt:t.mvDetail.artistName}}),a("span",{staticClass:"author-name"},[t._v(t._s(t.mvDetail.artistName))])]),a("div",{staticClass:"info"},[a("div",{staticClass:"mv-title"},[t._v(t._s(t.mvDetail.name))]),a("div",{staticClass:"mv-info"},[a("span",[t._v("发布："+t._s(t.mvDetail.publishTime))]),a("span",[t._v("播放："+t._s(t.mvDetail.playCount))])])]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.commentLoading,expression:"commentLoading"}],staticClass:"comment-list-wrap"},[t.mvComment.hotComments?a("div",{staticClass:"hot"},[a("div",{staticClass:"title"},[t._v("精彩评论")]),a("div",{staticClass:"comment-wrap"},t._l(t.mvComment.hotComments,(function(t){return a("CommentCard",{key:t.commentId,attrs:{avatarUrl:t.user.avatarUrl,nickname:t.user.nickname,content:t.content,beReplied:t.beReplied,time:t.time,likedCount:t.likedCount}})})),1)]):t._e(),t.mvComment.comments?a("div",{staticClass:"latest"},[a("div",{staticClass:"title"},[t._v("最新评论("+t._s(t.mvComment.total)+")")]),a("div",{staticClass:"comment-wrap"},t._l(t.mvComment.comments,(function(t){return a("CommentCard",{key:t.commentId,attrs:{avatarUrl:t.user.avatarUrl,nickname:t.user.nickname,content:t.content,beReplied:t.beReplied,time:t.time,likedCount:t.likedCount}})})),1)]):t._e(),t.total?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":20,total:t.total},on:{"current-change":t.handlePlaylistsPage}}):t._e()],1)]),a("div",{staticClass:"right"},[a("div",{staticClass:"title"},[t._v("相关推荐")]),a("div",{staticClass:"mv-list-wrap"},t._l(t.simiMv,(function(e){return a("MvlistCard",{key:e.id,attrs:{picUrl:e.cover,copywriter:e.name,playCount:e.playCount,name:e.name,artists:e.artists},nativeOn:{click:function(a){return t.toMvsDetail(e.id)}}})})),1)])])},Ne=[],De={data:function(){return{mvComment:{},mvDetail:{},mvUrl:{},simiMv:[],total:0,pageLoading:!1,commentLoading:!1,currentId:null}},mounted:function(){this.getMvComment(this.$route.params.id,1),this.getMvDetail(this.$route.params.id),this.getMvUrl(this.$route.params.id),this.getSimiMv(this.$route.params.id)},activated:function(){this.currentId!=this.$route.params.id&&(this.getMvComment(this.$route.params.id,1),this.getMvDetail(this.$route.params.id),this.getMvUrl(this.$route.params.id),this.getSimiMv(this.$route.params.id))},deactivated:function(){},methods:{getMvComment:function(t,e){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var i,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a.commentLoading=!0,s.next=3,v({method:"get",url:"/comment/mv",params:{id:t,limit:20,offset:20*(e-1)}});case 3:if(i=s.sent,n=i.data,200==n.code){s.next=8;break}return alert("请求失败"),s.abrupt("return");case 8:a.mvComment=n,a.total=n.total,a.commentLoading=!1;case 11:case"end":return s.stop()}}),s)})))()},getMvDetail:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.pageLoading=!0,a.next=3,v({method:"get",url:"/mv/detail",params:{mvid:t}});case 3:if(s=a.sent,i=s.data,200==i.code){a.next=8;break}return alert("请求失败"),a.abrupt("return");case 8:e.mvDetail=i.data,e.pageLoading=!1,e.currentId=i.data.id;case 11:case"end":return a.stop()}}),a)})))()},getMvUrl:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,v({method:"get",url:"/mv/url",params:{id:t}});case 2:if(s=a.sent,i=s.data,200==i.code){a.next=7;break}return alert("请求失败"),a.abrupt("return");case 7:e.mvUrl=i.data;case 8:case"end":return a.stop()}}),a)})))()},getSimiMv:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,v({method:"get",url:"/simi/mv",params:{mvid:t}});case 2:if(s=a.sent,i=s.data,200==i.code){a.next=7;break}return alert("请求失败"),a.abrupt("return");case 7:e.simiMv=i.mvs;case 8:case"end":return a.stop()}}),a)})))()},handlePlaylistsPage:function(t){this.getMvComment(this.$route.params.id,t),this.$bus.$emit("goTop")},toMvsDetail:function(t){this.$route.params.id!=t&&(this.$router.replace("/mv/"+t),this.getMvComment(this.$route.params.id,1),this.getMvDetail(this.$route.params.id),this.getMvUrl(this.$route.params.id),this.getSimiMv(this.$route.params.id))}},components:{CommentCard:D,MvlistCard:Xt}},Re=De,Oe=(a("bd05"),Object(y["a"])(Re,Ee,Ne,!1,null,"ebabffa0",null)),$e=Oe.exports,je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search"},[a("div",{staticClass:"title"},[t._v(" "+t._s(t.$route.params.keyword)+" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.total,expression:"total"}],staticClass:"count"},[t._v(t._s(t.totalText))])]),a("div",{staticClass:"tabs-wrap"},t._l(t.tabs,(function(e,s){return a("div",{key:s,staticClass:"tab-item",class:{active:s===t.curTab},on:{click:function(e){return t.changeTab(s)}}},[t._v(t._s(e))])})),0),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"search-content",attrs:{"element-loading-text":"拼命加载中"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0===t.curTab,expression:"curTab === 0"}],staticClass:"songs-list-wrap"},[t._m(0),t._l(t.songsResult.songs,(function(e,s){return a("SonglistCard",{key:s,attrs:{index:s,name:e.name,ar:e.artists,al:e.album,dt:e.duration},nativeOn:{click:function(a){return t.playMusic(e.id,e)}}})})),t.total?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":50,total:t.total},on:{"current-change":t.handleSongsPage}}):t._e()],2),a("div",{directives:[{name:"show",rawName:"v-show",value:1===t.curTab,expression:"curTab === 1"}],staticClass:"artists-list-wrap"},[t._l(t.artistsResult.artists,(function(e){return a("div",{key:e.id,staticClass:"artist-list-card"},[a("div",{staticClass:"img-wrap"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl+"?param=60y60",expression:"item.picUrl+'?param=60y60'"}],attrs:{alt:e.name}})]),a("div",{staticClass:"content"},[a("div",{staticClass:"name"},[t._v(t._s(e.name))])])])})),t.total?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":50,total:t.total},on:{"current-change":t.handleArtistsPage}}):t._e()],2),a("div",{directives:[{name:"show",rawName:"v-show",value:2===t.curTab,expression:"curTab === 2"}],staticClass:"albums-list-wrap"},[t._l(t.albumsResult.albums,(function(e){return a("div",{key:e.id,staticClass:"album-list-card"},[a("div",{staticClass:"img-wrap"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl+"?param=60y60",expression:"item.picUrl+'?param=60y60'"}],attrs:{alt:e.name}})]),a("div",{staticClass:"content"},[a("div",{staticClass:"name"},[t._v(t._s(e.name))]),a("div",{staticClass:"artist"},[t._v(t._s(e.artist.name))])])])})),t.total?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":50,total:t.total},on:{"current-change":t.handleAlbumsPage}}):t._e()],2),a("div",{directives:[{name:"show",rawName:"v-show",value:3===t.curTab,expression:"curTab === 3"}],staticClass:"playlists-list-wrap"},[t._l(t.playlistsResult.playlists,(function(e){return a("div",{key:e.id,staticClass:"playlist-list-card"},[a("div",{staticClass:"img-wrap"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.coverImgUrl+"?param=60y60",expression:"item.coverImgUrl+'?param=60y60'"}],attrs:{alt:e.name}})]),a("div",{staticClass:"content"},[a("div",{staticClass:"name",domProps:{innerHTML:t._s(t.showKeyword(e.name))}}),a("div",{staticClass:"count"},[t._v(t._s(e.trackCount)+"首")]),a("div",{staticClass:"creator"},[t._v("by "+t._s(e.creator.nickname))])])])})),t.total?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":50,total:t.total},on:{"current-change":t.handlePlaylistsPage}}):t._e()],2)])])},Ue=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title-wrap"},[a("div",{staticClass:"order"},[t._v("序号")]),a("div",{staticClass:"play"},[t._v("播放")]),a("div",{staticClass:"name"},[t._v("音乐标题")]),a("div",{staticClass:"singer"},[t._v("歌手")]),a("div",{staticClass:"album"},[t._v("专辑")]),a("div",{staticClass:"time"},[t._v("时长")])])}],He=["单曲","歌手","专辑","歌单"],Ge={created:function(){this.tabs=He},mounted:function(){this.getSearchList(1,1)},data:function(){return{loading:!1,curTab:0,songsResult:{},artistsResult:{},albumsResult:{},playlistsResult:{}}},methods:{changeTab:function(t){if(this.curTab!=t)if(this.curTab=t,0===t){if("{}"!=JSON.stringify(this.songsResult))return;this.getSearchList(1,1)}else if(1===t){if("{}"!=JSON.stringify(this.artistsResult))return;this.getSearchList(100,1)}else if(2===t){if("{}"!=JSON.stringify(this.albumsResult))return;this.getSearchList(10,1)}else{if("{}"!=JSON.stringify(this.playlistsResult))return;this.getSearchList(1e3,1)}},getSearchList:function(t,e){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var i,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a.loading=!0,s.next=3,v({method:"get",url:"/search",params:{keywords:a.$route.params.keyword,type:t,limit:50,offset:50*(e-1)}});case 3:if(i=s.sent,n=i.data,200==n.code){s.next=8;break}return alert("请求失败"),s.abrupt("return");case 8:1===t?a.songsResult=n.result:100===t?a.artistsResult=n.result:10===t?a.albumsResult=n.result:a.playlistsResult=n.result,a.loading=!1;case 10:case"end":return s.stop()}}),s)})))()},handleSongsPage:function(t){this.getSearchList(1,t),this.$bus.$emit("goTop")},handleArtistsPage:function(t){this.getSearchList(100,t),this.$bus.$emit("goTop")},handleAlbumsPage:function(t){this.getSearchList(10,t),this.$bus.$emit("goTop")},handlePlaylistsPage:function(t){this.getSearchList(1e3,t),this.$bus.$emit("goTop")},playMusic:function(t,e){this.playingMusicId!==t?(this.$store.dispatch("playMusic",t),this.$store.dispatch("addSongToPlaylist",e),this.$store.dispatch("addSongToHistory",e),this.$store.commit("CHANGE_PLAYING_VALUE",!0)):this.$message({message:"该歌曲已经在播放了"})}},computed:{total:function(){return 0===this.curTab?this.songsResult.songCount:1===this.curTab?this.artistsResult.artistCount:2===this.curTab?this.albumsResult.albumCount:3===this.curTab?this.playlistsResult.playlistCount:0},totalText:function(){return 0===this.curTab?"找到".concat(this.songsResult.songCount,"首单曲"):1===this.curTab?"找到".concat(this.artistsResult.artistCount,"位歌手"):2===this.curTab?"找到".concat(this.albumsResult.albumCount,"张专辑"):3===this.curTab?"找到".concat(this.playlistsResult.playlistCount,"个歌单"):"未搜索到任何结果"},showKeyword:function(){return function(t){var e=new RegExp(this.$route.params.keyword,"g"),a='<span class="keyword">'+this.$route.params.keyword+"</span>";return t=t.replace(e,a),t}}},watch:{$route:{handler:function(){this.$route.params.keyword&&(this.curTab=0,this.songsResult={},this.artistsResult={},this.albumsResult={},this.playlistsResult={},this.getSearchList(1,1))},deep:!0}},components:{SonglistCard:Te}},Ye=Ge,Ve=(a("cc21"),Object(y["a"])(Ye,je,Ue,!1,null,"07dc7258",null)),ze=Ve.exports;s["default"].use(Nt["a"]);var qe=new Nt["a"]({routes:[{path:"/",redirect:"/discovery"},{path:"/discovery",component:Kt},{path:"/playlists",component:se},{path:"/playlist/:id",component:Ie},{path:"/songs",component:ue},{path:"/mvs",component:Ce},{path:"/mv/:id",component:$e},{path:"/search/:keyword",component:ze}]});s["default"].use(h["a"]);var Fe=new h["a"].Store({actions:{getMusicLink:function(t,e){return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,v({method:"get",url:"/song/url",params:{id:e}});case 2:s=a.sent,i=s.data,t.commit("CHANGE_SONG_LINK",i.data[0].url);case 5:case"end":return a.stop()}}),a)})))()},playMusic:function(t,e){return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i,n,r,l,c,o,u,d,m,p,h;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,v({method:"get",url:"/song/url",params:{id:e}});case 2:return s=a.sent,i=s.data,a.next=6,v({method:"get",url:"/song/detail",params:{ids:e}});case 6:return n=a.sent,r=n.data,a.next=10,v({method:"get",url:"/simi/playlist",params:{id:e}});case 10:return l=a.sent,c=l.data,a.next=14,v({method:"get",url:"/simi/song",params:{id:e}});case 14:return o=a.sent,u=o.data,a.next=18,v({method:"get",url:"/comment/music",params:{id:e,limit:20}});case 18:return d=a.sent,m=d.data,a.next=22,v({method:"get",url:"/lyric",params:{id:e}});case 22:p=a.sent,h=p.data,t.commit("CHANGE_SONG_LINK",i.data[0].url),t.commit("CHANGE_SONG_DETAIL",r.songs),t.commit("CHANGE_SIMI_PLAYLIST",c.playlists),t.commit("CHANGE_SIMI_SONG",u.songs),t.commit("CHANGE_COMMENT_MUSIC",m),t.commit("CHANGE_LYRIC",h),t.commit("UPDATE_PLAYING_MUSIC_ID",e);case 31:case"end":return a.stop()}}),a)})))()},addSongToPlaylist:function(t,e){var a=t.state.playlist.filter((function(t){return t.id===e.id}));0===a.length&&t.commit("ADD_SONG_TO_PLAYLIST",e)},addSongToHistory:function(t,e){var a=t.state.playHistory.filter((function(t){return t.id===e.id}));0===a.length&&t.commit("ADD_SONG_TO_HISTORY",e)},deleteList:function(t,e){0===e?t.commit("DELETE_PLAYLIST"):t.commit("DELETE_PLAY_HISTORY")},getMusicComment:function(t,e){return Object(o["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,v({method:"get",url:"/comment/music",params:{id:t.state.playingMusicId,limit:20,offset:20*(e-1)}});case 2:if(s=a.sent,i=s.data,200==i.code){a.next=7;break}return alert("请求失败"),a.abrupt("return");case 7:t.commit("CHANGE_COMMENT_MUSIC",i);case 8:case"end":return a.stop()}}),a)})))()}},mutations:{CHANGE_PLAYER_DETAIL:function(t){t.showPlayerDetail=!t.showPlayerDetail},CHANGE_PLAYING_VALUE:function(t,e){t.playing=e},CHANGE_PLAYING:function(t){t.playing=!t.playing},CHANGE_SONG_LINK:function(t,e){t.songLink=e},CHANGE_SONG_DETAIL:function(t,e){t.songDetail=e},CHANGE_SIMI_PLAYLIST:function(t,e){t.simiPlaylist=e},CHANGE_SIMI_SONG:function(t,e){t.simiSong=e},CHANGE_COMMENT_MUSIC:function(t,e){t.commentMusic=e},CHANGE_LYRIC:function(t,e){t.lyric=e},UPDATE_PLAYLIST:function(t,e){t.playlist=e},UPDATE_PLAYING_MUSIC_ID:function(t,e){t.playingMusicId=e},ADD_SONG_TO_PLAYLIST:function(t,e){t.playlist.push(e)},ADD_SONG_TO_HISTORY:function(t,e){t.playHistory.push(e)},DELETE_PLAYLIST:function(t){t.playlist=[]},DELETE_PLAY_HISTORY:function(t){t.playHistory=[]},CHANGE_PLAYLIST_DISPLAY:function(t,e){t.showPlaylist=e},CHANGE_LYRIC_ACTIVE_DIV:function(t,e){t.lyricActiveIndex=e}},state:{showPlayerDetail:!1,playing:!1,songLink:null,songDetail:null,simiPlaylist:null,simiSong:null,commentMusic:null,lyric:null,playlist:[],playHistory:[],playingMusicId:null,showPlaylist:!1,lyricActiveIndex:0},getters:{}}),Xe=Fe,Je=a("caf9"),We=a("5a0c"),Be=a("d772");We["extend"](Be),s["default"].config.productionTip=!1,s["default"].use(Je["a"],{attempt:3}),s["default"].filter("dayFormat",(function(t){return We(t).format("YYYY-MM-DD HH:mm")})),s["default"].filter("duration",(function(t){var e=We["duration"](t).seconds();e=(Array(2).join(0)+e).slice(-2);var a=We["duration"](t).minutes();a=(Array(2).join(0)+a).slice(-2);var s=We["duration"](t).hours();return s=(Array(2).join(0)+s).slice(-2),s<=0?a+":"+e:s+":"+a+":"+e})),s["default"].filter("playCountFormat",(function(t){return t<99999?t:(t/1e4).toFixed(1)+"万"})),new s["default"]({render:function(t){return t(J)},router:qe,store:Xe,beforeCreate:function(){s["default"].prototype.$bus=this}}).$mount("#app")},"57e7":function(t,e){t.exports="data:image/png;base64,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"},"582e":function(t,e,a){"use strict";a("bfdc")},6332:function(t,e,a){"use strict";a("c256")},7573:function(t,e,a){},"7df4":function(t,e,a){},"85ec":function(t,e,a){},9049:function(t,e,a){"use strict";a("26e6")},a9de:function(t,e,a){},ad45:function(t,e,a){"use strict";a("f6e2")},bd05:function(t,e,a){"use strict";a("c43e")},bfdc:function(t,e,a){},c055:function(t,e,a){t.exports=a.p+"img/play-bar.e5a7a142.png"},c256:function(t,e,a){},c43e:function(t,e,a){},c460:function(t,e,a){},c61b:function(t,e,a){"use strict";a("4c56")},cc21:function(t,e,a){"use strict";a("a9de")},d2e9:function(t,e,a){"use strict";a("1080")},d53f:function(t,e,a){},ddcc:function(t,e,a){},e378:function(t,e,a){"use strict";a("d53f")},e8c8:function(t,e,a){"use strict";a("ddcc")},f6e2:function(t,e,a){},fb84:function(t,e,a){}});
//# sourceMappingURL=app.27b2b4b6.js.map